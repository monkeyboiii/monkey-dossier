---
slug: template-is-the-culprit
title: Template is the Culprit - A Lesson from C++ ðŸ”§
authors: calvin
tags: [code-c-cpp]
---

import { Color } from '@site/src/components/Color';

{/* truncate */}

## 1 The Why
I was tasked to use `clickhouse-cpp`, a third party [library](https://github.com/ClickHouse/clickhouse-cpp) to interface with [ClickHouse](http://clickhouse.com/) database from our C++ codebase (my project for convenience), and I was excited to implement it. Little did I know, this was the beginning of a month-long struggle to get it working. At least, in the journey, I refreshed my knowledge of C++, compiling/linking, template metapprogramming, and multi-threading.

## 2 The Start
The first step was to build the library from source, which was seemingly straightforward. In itself, the library was a CMake project, and I was able to build it . But when I try to link against my project, there where symbols conflict with our Macros flying around, specificaly `Int64`, `Int32`, `UInt64`, `UInt32`. These were problematic since my project is well over 30 years